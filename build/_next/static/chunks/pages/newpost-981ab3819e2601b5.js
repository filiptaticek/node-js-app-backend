(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[684],{5685:function(t,n,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/newpost",function(){return e(9144)}])},1882:function(t,n,e){"use strict";e.d(n,{r:function(){return i}});var r=e(5893),o=e(8527),i=function(t){var n=t.text,e=t.form,i=t.color,c=t.notification;return(0,r.jsxs)("div",{className:"main",children:[(0,r.jsx)(o.X6,{size:"lg",m:2,style:{textAlign:"center"},children:n}),(0,r.jsx)("div",{children:e}),(0,r.jsx)(o.X6,{size:"md",m:2,style:{textAlign:"center",color:i},children:c})]})}},2634:function(t,n,e){"use strict";e.d(n,{h:function(){return i}});var r=e(5893),o=e(8527),i=function(){return(0,r.jsxs)(o.X6,{size:"md",style:{textAlign:"center"},children:["You need to be ",(0,r.jsx)("a",{style:{color:"rgba(30,161,241,255)"},href:"http://localhost:3000/",children:"logged in"})," to see this page"]})}},9144:function(t,n,e){"use strict";e.r(n),e.d(n,{default:function(){return x}});var r=e(4051),o=e.n(r),i=e(5893),c=e(7294),s=e(9473),u=e(117),a=e(1882),l=e(2634),f=e(6051),d=e(5193),h=e(9116),v=function(t){var n=t.handleAddingPosts,e=t.content,r=t.setContent;return(0,i.jsxs)("form",{onSubmit:n,children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{style:{fontWeight:"bold"},children:"Content"}),(0,i.jsx)(h.II,{style:{width:"50%",margin:"20px",border:"2px solid black"},type:"text",value:e,onChange:r})]}),(0,i.jsx)(d.zx,{colorScheme:"twitter",type:"submit",children:"Add post"})]})};function p(t,n,e,r,o,i,c){try{var s=t[i](c),u=s.value}catch(a){return void e(a)}s.done?n(u):Promise.resolve(u).then(r,o)}var x=function(){var t=function(t,n){x(t),g(n),setTimeout((function(){g("")}),3e3)},n=(0,c.useState)(""),e=n[0],r=n[1],d=(0,c.useState)("red"),h=d[0],x=d[1],m=(0,c.useState)(""),w=m[0],g=m[1],b=(0,s.v9)((function(t){return t.visibility})),k=(0,s.I0)();k((0,f.zX)(["black","white","black"])),(0,c.useEffect)((function(){var t=window.localStorage.getItem("userToken");if(t){var n=JSON.parse(t);k((0,f.cn)(n)),u.Z.setToken(n.token)}}),[k]);var y=function(){var n,i=(n=o().mark((function n(i){var c,s;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i.preventDefault(),""!==e){n.next=5;break}t("red","You need to fill in the content of your post"),n.next=18;break;case 5:return n.prev=5,c=new Date,s=[],n.next=10,u.Z.addpost({content:e,date:c,likedby:s});case 10:n.sent,r(""),t("green","Your has been send to others!"),n.next=18;break;case 15:n.prev=15,n.t0=n.catch(5),console.log(n.t0);case 18:case"end":return n.stop()}}),n,null,[[5,15]])})),function(){var t=this,e=arguments;return new Promise((function(r,o){var i=n.apply(t,e);function c(t){p(i,r,o,c,s,"next",t)}function s(t){p(i,r,o,c,s,"throw",t)}c(void 0)}))});return function(t){return i.apply(this,arguments)}}();return(0,i.jsx)("div",{children:(0,i.jsx)("main",{children:b?(0,i.jsx)(a.r,{text:"Write a tweet",form:(0,i.jsx)(v,{handleAddingPosts:y,content:e,setContent:function(t){var n=t.target;return r(n.value)}}),notification:w,color:h}):(0,i.jsx)(l.h,{})})})}},117:function(t,n,e){"use strict";var r=e(4051),o=e.n(r),i=e(9669),c=e.n(i);function s(t,n,e,r,o,i,c){try{var s=t[i](c),u=s.value}catch(a){return void e(a)}s.done?n(u):Promise.resolve(u).then(r,o)}var u="http://localhost:3001/api/posts",a=null,l=function(){var t,n=(t=o().mark((function t(n){var e,r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={headers:{Authorization:a}},t.next=3,c().post(u,n,e);case 3:return r=t.sent,t.abrupt("return",r.data);case 5:case"end":return t.stop()}}),t)})),function(){var n=this,e=arguments;return new Promise((function(r,o){var i=t.apply(n,e);function c(t){s(i,r,o,c,u,"next",t)}function u(t){s(i,r,o,c,u,"throw",t)}c(void 0)}))});return function(t){return n.apply(this,arguments)}}();n.Z={addpost:l,getAll:function(){return c().get(u).then((function(t){return t.data}))},setToken:function(t){a="bearer ".concat(t)},removepost:function(t){var n=c().delete("".concat(u,"/").concat(t));return console.log(u,t),n.then((function(t){return t.data}))},likepost:function(t,n){return c().put("".concat(u,"/").concat(t),n).then((function(t){return t.data}))}}}},function(t){t.O(0,[669,116,774,888,179],(function(){return n=5685,t(t.s=n);var n}));var n=t.O();_N_E=n}]);